<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="/css/timer.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tortellini Timer!</title>
  </head>

  <body>
    <div class="background-img">
      <main>
        <c-settings id="c-settings" style="display: none"></c-settings>
        <c-analysis id="c-analysis" style="display: none"></c-analysis>
        <c-task-list id="c-task-list" style="display: initial"></c-task-list>
        <c-control-button onclick="state_transition('timer_open_settings')"
          >Settings</c-control-button
        >
        <c-control-button
          onclick="state_transition(timer_init == window.current_state ? 'timer_toggle_task_list' : 'timer_init')"
          >Tasklist</c-control-button
        >
        <c-control-button onclick="state_transition(timer_init == window.current_state ? 'timer_open_analysis' : 'timer_init')"
          >Analysis</c-control-button
        >

        <div class="container">
          <div id="timer-labels">
            <p id="early-prompt"></p>
            <p id="timer-label">Waiting</p>
          </div>
          <c-timer-display id="timer-display"></c-timer-display>
          <div class="control-buttons">
            <!-- <button class="control" id="start-button">Start</button> -->
            <c-control-button
              id="start-button"
              onclick="state_transition('timer_during_countdown')"
              >Start</c-control-button
            >
            <c-control-button
              id="emergency-stop-button"
              onclick="state_transition('timer_emergency_stop')"
              >Emergency stop</c-control-button
            >
            <c-control-button
              id="overstudy-button"
              onclick="state_transition('timer_finished_early')"
              >Overstudy</c-control-button
            >
          </div>
          <div class="task">
            <span id="current-task">Example Task</span>
          </div>
        </div>

        <!-- should play when work and break cycles end
        <audio id="alarm-sound" src="/assets/audio/spongebob-screaming-alarm-placeholder.mp3"></audio> -->
      </main>
    </div>
    <footer>
      <a href="https://github.com/ycyao216/cse110-w21-group17/wiki"
        >Visit Team Tortellini@Github</a
      >
    </footer>
    <!-- moved the script import to after the site finsihed-->

    <!-- State Machines -->
    <script src="/js/state_machines/state_machine.js"></script>

    <!-- Components -->
    <script src="/js/components/incdecinput.js"></script>
    <script src="/js/components/time-picker.js"></script>
    <script src="/js/components/timer-display.js"></script>
    <script src="/js/components/control-button.js"></script>
    <script src="/js/components/task-list.js"></script>
    <script src="/js/components/analysis.js"></script>
    <script src="/js/components/settings.js"></script>

    <!-- This Page -->
    <script src="/js/state_machines/timing_logic.js"></script>
    <script src="/js/state_machines/timer_state_machine.js"></script>
    <script src="/js/timer.js"></script>
    <!-- <script src="/js/task-bar-visual.js"></script>
    <script src="/js/taskList.js"></script> -->
  </body>
</html>
